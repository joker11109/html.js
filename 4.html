<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <title>用户注册界面设计</title>
    <style>
        /* CSS 样式部分 - 用于美化页面 */
        body {
            font-family: "Microsoft YaHei", sans-serif;
            background-color: #f4f4f4;
            display: flex;
            justify-content: center;
            padding-top: 50px;
        }

        .register-box {
            background-color: #fff;
            padding: 40px;
            width: 600px;
            border: 1px solid #ddd;
            box-shadow: 0 0 10px rgba(0,0,0,0.1);
        }

        .form-row {
            display: flex;
            margin-bottom: 20px;
            align-items: flex-start; /* 顶部对齐，防止提示文字撑开高度影响对齐 */
        }

        .label {
            width: 100px;
            text-align: right;
            padding-right: 15px;
            padding-top: 5px; /* 为了和输入框文字对齐 */
            font-size: 14px;
            color: #333;
            font-weight: bold;
        }

        .label span {
            color: red;
            margin-right: 4px;
        }

        .input-group {
            display: flex;
            flex-direction: column;
            width: 240px;
        }

        input[type="text"], 
        input[type="password"] {
            height: 30px;
            padding: 5px;
            border: 1px solid #ccc;
            outline: none;
            font-size: 14px;
        }
        
        input:focus {
            border-color: #66afe9;
        }

        .hint {
            font-size: 12px;
            color: #999;
            margin-top: 5px;
        }

        .error-msg {
            color: red;
            font-size: 12px;
            margin-left: 15px;
            padding-top: 10px; /* 为了和输入框水平对齐 */
            display: none; /* 默认隐藏错误信息 */
        }

        .agreement {
            margin-left: 115px; /* 对齐输入框 */
            margin-bottom: 20px;
            font-size: 13px;
            color: #666;
        }

        .submit-btn {
            margin-left: 115px;
            width: 150px;
            height: 40px;
            background-color: #ff3333;
            color: white;
            border: none;
            font-size: 18px;
            font-weight: bold;
            cursor: pointer;
        }

        .submit-btn:hover {
            background-color: #e62e2e;
        }
    </style>

    <script type="text/javascript">
        // JavaScript 逻辑部分 - 用于表单验证
        
        function validateForm() {
            // 1. 获取所有输入框的值
            var nickname = document.getElementById("nickname").value;
            var pwd = document.getElementById("pwd").value;
            var confirmPwd = document.getElementById("confirmPwd").value;
            var phone = document.getElementById("phone").value;
            var email = document.getElementById("email").value;
            var agree = document.getElementById("agree").checked;

            // 2. 获取所有用于显示错误的 span 元素
            var errNickname = document.getElementById("err-nickname");
            var errPwd = document.getElementById("err-pwd");
            var errConfirm = document.getElementById("err-confirm");
            var errPhone = document.getElementById("err-phone");
            var errEmail = document.getElementById("err-email");

            // --- 重置所有错误信息 ---
            var errors = document.getElementsByClassName("error-msg");
            for(var i=0; i<errors.length; i++) {
                errors[i].style.display = "none";
            }
            
            var isValid = true; // 标记验证是否通过

            // --- 验证规则 ---

            // 1. 验证昵称：4-16位，以字母开头
            // 正则解释：^[a-zA-Z] 表示以字母开头，[a-zA-Z0-9_]{3,15} 表示后面跟3-15个字符
            var regNickname = /^[a-zA-Z][a-zA-Z0-9_]{3,15}$/;
            if (!regNickname.test(nickname)) {
                errNickname.innerText = "输入的用户名不合法";
                errNickname.style.display = "block";
                isValid = false;
            }

            // 2. 验证密码：8-20位字母数字组合
            // 简单验证长度，若需严格验证必须包含字母和数字，正则会更复杂
            if (pwd.length < 8 || pwd.length > 20) {
                errPwd.innerText = "密码设置不符合规则";
                errPwd.style.display = "block";
                isValid = false;
            }

            // 3. 验证确认密码：必须与密码一致
            if (pwd !== confirmPwd || confirmPwd === "") {
                errConfirm.innerText = "两次密码设置不一致";
                errConfirm.style.display = "block";
                isValid = false;
            }

            // 4. 验证手机号：常见的手机号正则
            var regPhone = /^1[3-9]\d{9}$/;
            if (!regPhone.test(phone)) {
                errPhone.innerText = "不是一个有效的手机号";
                errPhone.style.display = "block";
                isValid = false;
            }

            // 5. 验证邮箱
            var regEmail = /^\w+([-+.]\w+)*@\w+([-.]\w+)*\.\w+([-.]\w+)*$/;
            if (!regEmail.test(email)) {
                errEmail.innerText = "邮箱格式不正确";
                errEmail.style.display = "block";
                isValid = false;
            }

            // 6. 验证协议勾选
            if (!agree) {
                alert("请先阅读并同意《注册协议》");
                return;
            }

            // --- 最终结果 ---
            if (isValid) {
                alert("验证通过！正在注册...");
                // 实际项目中这里会提交表单 form.submit()
            }
        }
    </script>
</head>
<body>

    <div class="register-box">
        <form onsubmit="event.preventDefault(); validateForm();">
            
            <div class="form-row">
                <div class="label"><span>*</span>昵称:</div>
                <div class="input-group">
                    <input type="text" id="nickname">
                    <div class="hint">昵称4-16位, 以字母开头</div>
                </div>
                <div class="error-msg" id="err-nickname">输入的用户名不合法</div>
            </div>

            <div class="form-row">
                <div class="label"><span>*</span>设置密码:</div>
                <div class="input-group">
                    <input type="password" id="pwd">
                    <div class="hint">密码8-20位字母数字组合</div>
                </div>
                <div class="error-msg" id="err-pwd">密码设置不符合规则</div>
            </div>

            <div class="form-row">
                <div class="label"><span>*</span>确认密码:</div>
                <div class="input-group">
                    <input type="password" id="confirmPwd">
                </div>
                <div class="error-msg" id="err-confirm">两次密码设置不一致</div>
            </div>

            <div class="form-row">
                <div class="label"><span>*</span>手机号:</div>
                <div class="input-group">
                    <input type="text" id="phone">
                </div>
                <div class="error-msg" id="err-phone">不是一个有效的手机号</div>
            </div>

            <div class="form-row">
                <div class="label"><span>*</span>注册邮箱:</div>
                <div class="input-group">
                    <input type="text" id="email">
                    <div class="hint">输入一个常用邮箱, 方便密码找回</div>
                </div>
                <div class="error-msg" id="err-email">邮箱格式不正确</div>
            </div>

            <div class="agreement">
                <input type="checkbox" id="agree"> 我已阅读并同意 <a href="#">《注册协议》</a>
            </div>

            <button type="submit" class="submit-btn">立即注册</button>

        </form>
    </div>

</body>
</html>
